<div class="content-wrapper">
    <section class="content">
        <div class="row">
            <div class="col-sm-12 col-md-12 col-lg-12">
                <div class="box">
                    <div class="box-header with-border super-patient-header">
                        <div class="row">
                            <div class="col-lg-2 col-md-12 col-sm-12 col-xs-12">
                                <h3 class="box-title"><span class="latest-c-icon"><img src="../assets/images/latest_order_icon.png" alt=""/></span>Referrals</h3>
                            </div>

                            <div>
                                <div excel-export export-data="exportData" file-name="{{fileName}}" style="float: right;"></div>
                            </div>
                            <div class="col-lg-8 col-md-12 col-sm-12 col-xs-12">
                                <div class="row form-control-margin-top">
                                    <div class="col-lg-8 col-md-8 col-sm-6 col-xs-12 text-right">
                                        <div class="form-group">
                                            <div class="input-group">
                                                <div class="input-group-addon">
                                                    <i class="fa fa-clock-o"></i>
                                                </div>
                                                <input class="form-control pull-right" date-range-picker id="daterange1" name="daterange1" class="form-control date-picker"
                                                    type="text" options="opts" ng-model="date" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="box-body" style="margin-top: auto;">
                        <div style="position: absolute;top: 50%;left: 50%; z-index: 1000;" ng-if="loading">
                            <i class='fa fa-refresh fa-spin fa-3x' style="color: #3eb8d7;"></i>
                        </div>
                        <div class="table-responsive min-margin-15">
                            <table ng-table="tableParams" class="table table-striped" show-filter="true">
                                <tr ng-repeat="log in referralsList">
                                    <td title="'Sending Provider'">
                                        {{log.referredBy.firstname}} {{ log.referredBy.lastname}} </td>
                                    <td title="'Receiving Provider'">
                                        {{log.referredTo.firstname}} {{log.referredTo.lastname}}</td>
                                    <td title="'Added By(FDU)'" ng-if="log.frontDeskReferredBy">
                                        {{log.frontDeskReferredBy.firstname}} {{log.frontDeskReferredBy.lastname}}</td>
                                    <td title="'Added By(FDU)'" ng-if="!log.frontDeskReferredBy">-</td>        
                                    <td title="'Insurance'">
                                        {{log.network.name}}</td>
                                    <td title="'Time/Date'" sortable="'referredDate'">
                                        {{log.referredDate | date:'MMM d, yyyy h:mm a '}}</td>
                                    <td title="'Specialty'">
                                        {{log.specialities[0].specialityName}}</td>
                                    <td title="'Service'">
                                        {{log.serviceName | capitalize}}</td>
                                </tr>
                                <tr ng-if="tableLoader">
                                    <td colspan="7" align="center">
                                        <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>
                                    </td>
                                </tr>
                                <tr ng-if="referralsList.length == 0 && !tableLoader">
                                    <td colspan="7" align="center">No record Found</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>